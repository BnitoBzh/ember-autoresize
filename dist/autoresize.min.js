// ==========================================================================
// Project:   Ember AutoResize
// Copyright: Â©2013 Archiv8 and contributors.
// License:   Licensed under MIT license (see license.js)
// ==========================================================================


// Last commit: 5d1ccbd (2014-03-18 22:19:59 -0400)


!function(){function e(e){var t;return t=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle}function t(t){var i;if(window.Window&&t instanceof Window||t===window){i={width:t.innerWidth,height:t.innerHeight};var n={width:t.outerWidth,height:t.outerHeight};return{width:t.innerWidth,height:t.innerHeight,boxSizing:null,content:i,borders:i,margins:n}}if(window.Document&&t instanceof Document||t===document)return i={width:Math.max(t.body.scrollWidth,t.documentElement.scrollWidth,t.body.offsetWidth,t.documentElement.offsetWidth,t.body.clientWidth,t.documentElement.clientWidth),height:Math.max(t.body.scrollHeight,t.documentElement.scrollHeight,t.body.offsetHeight,t.documentElement.offsetHeight,t.body.clientHeight,t.documentElement.clientHeight)},{width:i.width,height:i.height,boxSizing:null,content:i,borders:i,margins:i};var o=a(t),r={width:t.offsetWidth,height:t.offsetHeight},h=e(t),s={width:null,height:null,boxSizing:o,content:{},padding:{},borders:{},margins:{}},d={top:parseInt(h.paddingTop,10),right:parseInt(h.paddingRight,10),bottom:parseInt(h.paddingBottom,10),left:parseInt(h.paddingLeft,10)},u={top:parseInt(h.borderTopWidth,10),right:parseInt(h.borderRightWidth,10),bottom:parseInt(h.borderBottomWidth,10),left:parseInt(h.borderLeftWidth,10)},l={top:g(h.marginTop),right:g(h.marginRight),bottom:g(h.marginBottom),left:g(h.marginLeft)};switch(r.width-=u.right+u.left+d.right+d.left,r.height-=u.top+u.bottom+d.top+d.bottom,s.content=r,d.width=r.width+d.left+d.right,d.height=r.height+d.top+d.bottom,s.padding=d,u.width=d.width+u.left+u.right,u.height=d.height+u.top+u.bottom,s.borders=u,o){case"border-box":s.width=u.width,s.height=u.height;break;case"padding-box":s.width=d.width,s.height=d.height;break;default:s.width=r.width,s.height=r.height}return l.width="auto"!==l.left&&"auto"!==l.right?u.width+l.left+l.right:"auto",l.height="auto"!==l.top&&"auto"!==l.bottom?u.height+l.top+l.bottom:"auto",s.margins=l,s}function i(t,i){var n=h;if(null==i&&(i={}),null==h){var o=document.createElement("div");o.style.cssText="position:absolute; left:-10010px; top:-10px;width:10000px; height:0px; overflow:hidden;visibility:hidden;",n=h=document.createElement("div"),o.appendChild(h),document.body.insertBefore(o,null)}for(var r=e(t),d=0,a=s.length;a>d;d++){var g=s[d],u=r[g];n.style[g]=u}var l="";""===r.font&&(r.fontStyle&&(l+=r.fontStyle+" "),r.fontVariant&&(l+=r.fontVariant+" "),r.fontWeight&&(l+=r.fontWeight+" "),l+=r.fontSize?r.fontSize+" ":"10px",r.lineHeight&&(l+="/"+r.lineHeight),l+=" ",l+=r.fontFamily?r.fontFamily:"sans-serif",n.style.font=l),Ember.mixin(n.style,{position:"absolute",top:"0px",right:"auto",bottom:"auto",left:"0px",width:"auto",height:"auto"},i)}function n(){h&&(h.innerHTML="",h.className="",h.setAttribute("style",""))}function o(e,i){var n=h;return i?n.innerHTML=e:"undefined"!==Ember.typeOf(n.innerText)?n.innerText=e:n.textContent=e,n.style.overflow="visible",n.style.overflow="hidden",t(n)}var r,h=null,s=["maxWidth","maxHeight","paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftStyle","borderRightStyle","borderTopStyle","borderBottomStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","fontFamily","fontSize","fontWeight","fontVariant","lineHeight","whiteSpace","letterSpacing","wordWrap","boxSizing","MozBoxSizing","textTransform","textRendering","webkitFontFeatureSettings","mozFontFeatureSettings","msFontFeatureSettings","oFontFeatureSettings","fontFeatureSettings"],d=function(){var e,t=document.createElement("div");switch(document.body.appendChild(t),t.style.cssText="width:24px; padding:10px; border:2px solid #000;box-sizing:content-box; -moz-box-sizing:content-box;",t.offsetWidth){case 24:e="border-box";break;case 44:e="padding-box";break;case 48:e="content-box"}return document.body.removeChild(t),e},a=function(t){null==r&&(r=d());var i=e(t);return i.boxSizing||i.webkitBoxSizing||i.MozBoxSizing||i.msBoxSizing||i.oBoxSizing||r},g=function(e){return"auto"!==e?parseInt(e,10):e};Ember.Metrics={prepareStringMeasurement:i,teardownStringMeasurement:n,measureString:o,layoutOf:t}}(),function(){Ember.AutoResize=Ember.Mixin.create({classNameBindings:["autoresize:ember-auto-resize"],autoresize:!1,init:function(){this._super(),this.get("autoresize")&&this.scheduleMeasurement()},dimensions:null,shouldResizeWidth:!1,shouldResizeHeight:!1,maxWidth:null,maxHeight:null,autoResizeText:Ember.required(),ignoreEscape:!1,significantWhitespace:!1,scheduleMeasurement:Ember.observer("autoResizeText",function(){this.get("autoresize")&&Ember.run.once(this,"measureSize")}),measureSize:function(){var e,t=this.get("autoResizeText");if(Ember.isEmpty(t)||this.get("isDestroying"))e={width:0,height:0};else{var i={},n=this.$()[0];this.get("shouldResizeWidth")?null!=this.get("maxWidth")&&(i.maxWidth=this.get("maxWidth")+"px"):i.maxWidth=Ember.Metrics.layoutOf(n).width+"px",this.get("shouldResizeHeight")?null!=this.get("maxHeight")&&(i.maxHeight=this.get("maxHeight")+"px"):i.maxHeight=Ember.Metrics.layoutOf(n).height+"px",this.get("significantWhitespace")&&(i.whiteSpace="pre-wrap"),Ember.Metrics.prepareStringMeasurement(n,i),e=Ember.Metrics.measureString(t,this.get("ignoreEscape")),Ember.Metrics.teardownStringMeasurement()}this.set("measuredSize",e)},measuredSizeDidChange:Ember.observer("measuredSize",function(){var e=this.get("measuredSize"),t=this.get("maxWidth"),i=this.get("maxHeight"),n=!1,o={};this.get("shouldResizeWidth")&&(e.width+=1,o.width=null!=t&&e.width>t?t:e.width,n=!0),this.get("shouldResizeHeight")&&(o.height=null!=i&&e.height>i?i:e.height,n=!0),this.set("dimensions",o),n&&Ember.run.scheduleOnce("render",this,this.dimensionsDidChange)}),dimensionsDidChange:function(){var e=this.get("dimensions"),t={};for(var i in e)e.hasOwnProperty(i)&&null!=i&&(t[i]=e[i]+"px");null==this.get("maxHeight")&&(t.overflow="hidden");var n=this.$();n&&n.css(t)}}),Ember.TextField.reopen(Ember.AutoResize,{shouldResizeWidth:!0,significantWhitespace:!0,autoResizeText:Ember.computed("value",function(){var e=this.get("value");return Ember.isEmpty(e)?".":e})}),Ember.TextArea.reopen(Ember.AutoResize,{shouldResizeHeight:!0,significantWhitespace:!0,autoResizeText:Ember.computed("value",function(){var e=this.get("value");return Ember.isNone(e)&&(e=""),e+"@"})})}(),"undefined"==typeof location||"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname||Ember.Logger.warn("You are running a production build of Ember on localhost and won't receive detailed error messages. If you want full error messages please use the non-minified build provided on the Ember website.");